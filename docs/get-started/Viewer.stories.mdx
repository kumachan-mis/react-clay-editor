import { Canvas, Meta, Story } from '@storybook/addon-docs';

<Meta title="Get Started/Viewer" />

<Story name="Page">
  <></>
</Story>

# Viewer

The viewer is the readonly component of React Clay Editor. You can implement a range of viewers and even custom editors
by compounding components - `ViewerRoot`, `ViewerTextFieldRoot`, `ViewerHeader`, `ViewerTextFieldBody` and your own
components.

import { css } from '@emotion/css';
import { ViewerRoot, ViewerSyntaxMenu, ViewerTextFieldBody, ViewerHeader, ViewerTextFieldRoot } from '../../src';

## Simple Viewer

<Canvas>
  <Story name="Simple Viewer">
    <ViewerRoot text={'This is a simple viewer.'}>
      <ViewerTextFieldRoot>
        <ViewerTextFieldBody />
      </ViewerTextFieldRoot>
    </ViewerRoot>
  </Story>
</Canvas>

## Fullwidth

`className` is available to overwrite the default styling.

<Canvas>
  <Story name="Fullwidth">
    <ViewerRoot
      text={['This is a full-width viewer.', '`className` is available to overwrite the default styling.'].join('\n')}
      className={css`
        && {
          width: 100%;
        }
      `}
    >
      <ViewerTextFieldRoot>
        <ViewerTextFieldBody />
      </ViewerTextFieldRoot>
    </ViewerRoot>
  </Story>
</Canvas>

**NOTE**: a className selector in CSS should be **doubled**. Here is an example using `@emotion/css`.

```ts
const className = css`
  && {
    width: 100%;
  }
`;
// two ampersands (&&) is important
```

## With Header

The header is useful to show a fixed title of a document. The header can be placed in both of a fixed area and a
scrollable area.

<Canvas>
  <Story name="With Fixed Header">
    <ViewerRoot
      text={[
        'This is a viewer with the header in a fixed area.',
        'The header is useful to show a fixed title of a document.',
      ].join('\n')}
    >
      <ViewerHeader header="Header in Fixed Area" />
      <ViewerTextFieldRoot>
        <ViewerTextFieldBody />
      </ViewerTextFieldRoot>
    </ViewerRoot>
  </Story>
</Canvas>

<Canvas>
  <Story name="With Scrollable Header">
    <ViewerRoot
      text={[
        'This is a viewer with the header in a scrollable area.',
        'The header is useful to show a fixed title of a document.',
      ].join('\n')}
    >
      <ViewerTextFieldRoot>
        <ViewerHeader header="Header in Scrollable Area" />
        <ViewerTextFieldBody />
      </ViewerTextFieldRoot>
    </ViewerRoot>
  </Story>
</Canvas>

## Dual-Paned Editor

You can implement a dual-paned editor by using the viewer and the standard `<textarea>`.

<Canvas>
  <Story name="Dual-Paned Editor">
    {() => {
      const [text, setText] = React.useState(
        [
          '# Dual-Paned Editor',
          'You can implement a dual-paned editor by using the viewer and the standard `<textarea>`.',
        ].join('\n')
      );
      return (
        <div
          className={css`
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
          `}
        >
          <textarea
            value={text}
            onChange={(event) => setText(event.target.value)}
            className={css`
              && {
                width: 45%;
                height: 400px;
                margin: 5px;
              }
            `}
          />
          <ViewerRoot
            text={text}
            syntax="markdown"
            className={css`
              && {
                width: 45%;
                height: 400px;
                margin: 5px;
              }
            `}
          >
            <ViewerTextFieldRoot>
              <ViewerTextFieldBody />
            </ViewerTextFieldRoot>
          </ViewerRoot>
        </div>
      );
    }}
  </Story>
</Canvas>
