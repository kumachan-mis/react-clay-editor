import { Canvas, Meta, Story } from '@storybook/addon-docs';

<Meta title="Get Started/Viewer" />

# Viewer

The viewer is the readonly component of React Clay Editor.

import { css } from '@emotion/css';
import { ViewerRoot, ViewerSyntaxMenu, ViewerTextFieldBody, ViewerTextFieldHeader, ViewerTextFieldRoot } from 'src';

## Simple Viewer

<Canvas>
  <Story name="Simple Viewer">
    <ViewerRoot text={'This is a simple Viewer.'}>
      <ViewerTextFieldRoot>
        <ViewerTextFieldBody />
      </ViewerTextFieldRoot>
    </ViewerRoot>
  </Story>
</Canvas>

## Fullwidth

`className` is available to overwrite the default styling.

<Canvas>
  <Story name="Fullwidth">
    <ViewerRoot
      text={['This is a full-width Viewer.', '`className` is available to overwrite the default styling.'].join('\n')}
      className={css`
        && {
          width: 100%;
        }
      `}
    >
      <ViewerTextFieldRoot>
        <ViewerTextFieldBody />
      </ViewerTextFieldRoot>
    </ViewerRoot>
  </Story>
</Canvas>

Note that a className selector in CSS should be **doubled**. Here is an example using `@emotion/css`.

```ts
const className = css`
  && {
    width: 100%;
  }
`;
// two ampersands (&&) is important
```

## With Header

The header is useful to show a fixed title of a document.

<Canvas>
  <Story name="With Header">
    <ViewerRoot
      text={['This is an Viewer with the header.', 'The header is useful to show a fixed title of a document.'].join(
        '\n'
      )}
    >
      <ViewerTextFieldRoot>
        <ViewerTextFieldHeader header="React Clay Editor Header" />
        <ViewerTextFieldBody />
      </ViewerTextFieldRoot>
    </ViewerRoot>
  </Story>
</Canvas>

## Multi-Panes Editor

You can implement markdown-like editor which has multiple panes.

<Canvas>
  <Story name="Multi-Panes Editor">
    {() => {
      const [text, setText] = React.useState(
        ['# Multi-Panes Editor', 'You can implement markdown-like editor which has multiple panes.'].join('\n')
      );
      return (
        <div
          className={css`
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
          `}
        >
          <textarea
            value={text}
            onChange={(event) => setText(event.target.value)}
            className={css`
              && {
                width: 45%;
                height: 400px;
                margin: 5px;
              }
            `}
          />
          <ViewerRoot
            text={text}
            syntax="markdown"
            className={css`
              && {
                width: 45%;
                height: 400px;
                margin: 5px;
              }
            `}
          >
            <ViewerTextFieldRoot>
              <ViewerTextFieldBody />
            </ViewerTextFieldRoot>
          </ViewerRoot>
        </div>
      );
    }}
  </Story>
</Canvas>
